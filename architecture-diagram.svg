<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 800">
    <defs>
        <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5"
            markerWidth="6" markerHeight="6" orient="auto-start-reverse">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="#666"/>
        </marker>
    </defs>

    <!-- Title -->
    <text x="500" y="40" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold">TrustLevel Architecture</text>

    <!-- External Systems Layer -->
    <g transform="translate(0, 60)">
        <rect x="50" y="20" width="900" height="100" rx="10" fill="#f0f9ff" stroke="#93c5fd" stroke-width="2"/>
        <text x="60" y="45" font-family="Arial" font-size="16" font-weight="bold" fill="#1e40af">External Systems</text>
        
        <!-- External Components -->
        <rect x="100" y="60" width="180" height="40" rx="5" fill="#ffffff" stroke="#93c5fd" stroke-width="2"/>
        <text x="190" y="85" text-anchor="middle" font-family="Arial" font-size="14">Catalyst Explorer API</text>

        <rect x="300" y="60" width="160" height="40" rx="5" fill="#ffffff" stroke="#93c5fd" stroke-width="2"/>
        <text x="380" y="85" text-anchor="middle" font-family="Arial" font-size="14">Mesh SDK</text>

        <rect x="500" y="60" width="160" height="40" rx="5" fill="#ffffff" stroke="#93c5fd" stroke-width="2"/>
        <text x="580" y="85" text-anchor="middle" font-family="Arial" font-size="14">OpenAI API</text>

        <rect x="700" y="60" width="160" height="40" rx="5" fill="#ffffff" stroke="#93c5fd" stroke-width="2"/>
        <text x="780" y="85" text-anchor="middle" font-family="Arial" font-size="14">Social Media APIs</text>
    </g>

    <!-- Presentation Layer -->
    <g transform="translate(0, 180)">
        <rect x="50" y="20" width="900" height="120" rx="10" fill="#ecfdf5" stroke="#6ee7b7" stroke-width="2"/>
        <text x="60" y="45" font-family="Arial" font-size="16" font-weight="bold" fill="#065f46">Presentation Layer</text>
        
        <!-- UI Components -->
        <rect x="100" y="60" width="160" height="60" rx="5" fill="#ffffff" stroke="#6ee7b7" stroke-width="2"/>
        <text x="180" y="85" text-anchor="middle" font-family="Arial" font-size="14">Dashboard UI</text>
        <text x="180" y="105" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Progress, Stats, Tasks</text>

        <rect x="300" y="60" width="160" height="60" rx="5" fill="#ffffff" stroke="#6ee7b7" stroke-width="2"/>
        <text x="380" y="85" text-anchor="middle" font-family="Arial" font-size="14">Review Interface</text>
        <text x="380" y="105" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Proposal Review Flow</text>

        <rect x="500" y="60" width="160" height="60" rx="5" fill="#ffffff" stroke="#6ee7b7" stroke-width="2"/>
        <text x="580" y="85" text-anchor="middle" font-family="Arial" font-size="14">Peer Review UI</text>
        <text x="580" y="105" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Quality Control</text>

        <rect x="700" y="60" width="160" height="60" rx="5" fill="#ffffff" stroke="#6ee7b7" stroke-width="2"/>
        <text x="780" y="85" text-anchor="middle" font-family="Arial" font-size="14">Settings & Profile</text>
        <text x="780" y="105" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">User Preferences</text>
    </g>

    <!-- Application Layer -->
    <g transform="translate(0, 320)">
        <rect x="50" y="20" width="900" height="180" rx="10" fill="#fef2f2" stroke="#fca5a5" stroke-width="2"/>
        <text x="60" y="45" font-family="Arial" font-size="16" font-weight="bold" fill="#991b1b">Application Layer</text>

        <!-- Core Services -->
        <rect x="100" y="60" width="160" height="60" rx="5" fill="#ffffff" stroke="#fca5a5" stroke-width="2"/>
        <text x="180" y="85" text-anchor="middle" font-family="Arial" font-size="14">Auth Service</text>
        <text x="180" y="105" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Wallet/Basic Auth</text>

        <rect x="300" y="60" width="160" height="60" rx="5" fill="#ffffff" stroke="#fca5a5" stroke-width="2"/>
        <text x="380" y="85" text-anchor="middle" font-family="Arial" font-size="14">Review Service</text>
        <text x="380" y="105" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Core Review Logic</text>

        <rect x="500" y="60" width="160" height="60" rx="5" fill="#ffffff" stroke="#fca5a5" stroke-width="2"/>
        <text x="580" y="85" text-anchor="middle" font-family="Arial" font-size="14">Reputation Service</text>
        <text x="580" y="105" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Scoring & Rewards</text>

        <rect x="700" y="60" width="160" height="60" rx="5" fill="#ffffff" stroke="#fca5a5" stroke-width="2"/>
        <text x="780" y="85" text-anchor="middle" font-family="Arial" font-size="14">Export Service</text>
        <text x="780" y="105" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Data Sharing</text>

        <!-- AI Services -->
        <rect x="100" y="130" width="160" height="60" rx="5" fill="#ffffff" stroke="#fca5a5" stroke-width="2"/>
        <text x="180" y="155" text-anchor="middle" font-family="Arial" font-size="14">AI Summary Service</text>
        <text x="180" y="175" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Proposal Analysis</text>

        <rect x="300" y="130" width="160" height="60" rx="5" fill="#ffffff" stroke="#fca5a5" stroke-width="2"/>
        <text x="380" y="155" text-anchor="middle" font-family="Arial" font-size="14">AI Detection Service</text>
        <text x="380" y="175" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Content Verification</text>
    </g>

    <!-- Data Layer -->
    <g transform="translate(0, 520)">
        <rect x="50" y="20" width="900" height="160" rx="10" fill="#eff6ff" stroke="#93c5fd" stroke-width="2"/>
        <text x="60" y="45" font-family="Arial" font-size="16" font-weight="bold" fill="#1e3a8a">Data Layer</text>

        <!-- Database -->
        <rect x="100" y="60" width="260" height="100" rx="5" fill="#ffffff" stroke="#93c5fd" stroke-width="2"/>
        <text x="230" y="85" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">MongoDB</text>
        <text x="230" y="110" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">- User Profiles</text>
        <text x="230" y="130" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">- Reviews & Ratings</text>
        <text x="230" y="150" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">- Reputation Data</text>

        <!-- Cache -->
        <rect x="400" y="60" width="260" height="100" rx="5" fill="#ffffff" stroke="#93c5fd" stroke-width="2"/>
        <text x="530" y="85" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">Redis Cache</text>
        <text x="530" y="110" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">- Session Data</text>
        <text x="530" y="130" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">- Proposal Cache</text>
        <text x="530" y="150" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">- Temporary Stats</text>

        <!-- File Storage -->
        <rect x="700" y="60" width="160" height="100" rx="5" fill="#ffffff" stroke="#93c5fd" stroke-width="2"/>
        <text x="780" y="85" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">File Storage</text>
        <text x="780" y="110" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Exported Data</text>
        <text x="780" y="130" text-anchor="middle" font-family="Arial" font-size="12" fill="#666666">Review Reports</text>
    </g>

    <!-- Connecting Lines -->
    <!-- External to Application -->
    <line x1="180" y1="160" x2="180" y2="320" stroke="#666666" stroke-width="1" marker-end="url(#arrow)" stroke-dasharray="4"/>
    <line x1="380" y1="160" x2="380" y2="320" stroke="#666666" stroke-width="1" marker-end="url(#arrow)" stroke-dasharray="4"/>
    <line x1="580" y1="160" x2="580" y2="320" stroke="#666666" stroke-width="1" marker-end="url(#arrow)" stroke-dasharray="4"/>
    <line x1="780" y1="160" x2="780" y2="320" stroke="#666666" stroke-width="1" marker-end="url(#arrow)" stroke-dasharray="4"/>

    <!-- Presentation to Application -->
    <line x1="180" y1="300" x2="180" y2="320" stroke="#666666" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="380" y1="300" x2="380" y2="320" stroke="#666666" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="580" y1="300" x2="580" y2="320" stroke="#666666" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="780" y1="300" x2="780" y2="320" stroke="#666666" stroke-width="1" marker-end="url(#arrow)"/>

    <!-- Application to Data -->
    <line x1="180" y1="500" x2="180" y2="520" stroke="#666666" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="380" y1="500" x2="380" y2="520" stroke="#666666" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="580" y1="500" x2="580" y2="520" stroke="#666666" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="780" y1="500" x2="780" y2="520" stroke="#666666" stroke-width="1" marker-end="url(#arrow)"/>
</svg>
